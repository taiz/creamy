package views;

import creamy.activity.Activity;
import creamy.activity.AvailableActivity;
import creamy.activity.requestor.CallBack;
import creamy.mvc.Status;
import creamy.scene.layout.ChildPane;
import java.net.URL;
import java.util.ResourceBundle;
import javafx.fxml.FXML;
import javafx.fxml.Initializable;
import javafx.scene.Node;
import javafx.scene.control.Button;
import javafx.scene.layout.Pane;
import javafx.scene.layout.VBox;
import models.Computer;

/**
 *
 * @author miyabetaiji
 */
public class TestEditableList extends AvailableActivity {
    @FXML private VBox listPane;
    
    @Override
    public void initialize() {
        createList();
    }
    
    private java.util.List<Computer> computers;
    
    private void createList() {
        listPane.getChildren().clear();
        for (Computer computer : computers) {
            String path = "/TestEditableController/testEditableItem/" + computer.getId();
            requestActivity(path)
                    .onSuccess(new CallBack<Activity>() {
                        @Override
                        public void call(Activity activity, Status status) {
                            //ChildPane bodyPane = (ChildPane)activity.getScene().lookup("ChildPane");
                            //listPane.getChildren().add(bodyPane.getChildren().get(0));
                            listPane.getChildren().add(activity.getScene());
                        }
                    })
                    .execute();
                    
        }
    }
}
